<div class="col-4 p-2">
  <div class="card">
    <div class="card-body">
      <h5 class="card-title"><%= widget.name %></h5>
      <h6 class="card-subtitle mb-2 text-muted">
        Author:
        <% if logged_in? %>
          <%= link_to widget.user.full_name, user_path(widget.user.id) %>
        <% else %>
          <%= widget.user.full_name %>
        <% end %>
      </h6>
      <p class="card-text"><%= widget.description %></p>

      <p class="card-text"><small class="text-muted">
        <strong>Visibility: </strong> <%= widget.kind %>
      </small></p>
    </div>
    <div class="card-footer">
      <% if widget.owner %>
        <button type="button" class="btn btn-outline-primary" data-toggle="modal" data-target="#widget-edit-modal-<%= widget.id %>">
          EDIT
        </button>
        <div class="modal fade" id="widget-edit-modal-<%= widget.id %>" tabindex="-1" role="dialog" aria-labelledby="widget-edit-modal-<%= widget.id %>" aria-hidden="true">
          <%= render partial: 'form', locals: {widget: widget} %>
        </div>

        <%= link_to user_widget_path(current_user.id, widget.id),
                    method: :delete, class: 'btn btn-danger float-right',
                    data: { confirm: "Permanently delete widget ?" } do %>
          <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="trash-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" height="16px" width="16px" class="svg-inline--fa fa-trash-alt fa-w-14 fa-5x danger">
            <path fill="currentColor" d="M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z" class=""></path>
          </svg>
        <% end %>

      <% end %>
    </div>
  </div>

</div>
